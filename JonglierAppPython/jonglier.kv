#:import FadeTransition kivy.uix.screenmanager.FadeTransition

# ---------------------------------------------
# ---- Screen overview
# ---------------------------------------------

ScreenManagement:
    transition: FadeTransition()
    
    MainScreen:
    
    Tricks:
    Cascade:
        
    Progress:

    Materials:
        
    Blog:

# ---------------------------------------------
# ---- Custom set ups
# ---------------------------------------------


<CustBox@BoxLayout>:
    canvas:
        Color:
            rgba: 0, 1, 0, 1
        Rectangle:
            pos: root.width*1/8,root.height*0.5   #self.pos #{"center_x" :  0.5, "center_y" : 0.5}
            size: root.width*3/4, root.height*0.5       #250, 250
	
<CustButton@Button>:
    color: 0, 1, 0, 1
    font_size: 0.1*root.width
    size_hint: 1, 1/4

<CustLabel@Label>:
    font_size: 0.1*root.width
    #halign: 'right'
    #text_size: self.size

<CustomPopup>:
    size_hint: .5, .5
    auto_dismiss: False
    title: "The Popup"
    #CustButton:
    #    text: "Close"
    #    on_press: root.dismiss()

# ---------------------------------------------
# Screens ---- 
# ---------------------------------------------

<MainScreen>:
    name: 'main'
    FloatLayout:
        CustButton:
            pos_hint: {"center_x" : 0.5, "top" : 1}
            on_press: app.root.current = 'Tricks'
            text: 'Tricks'

        CustButton:
            pos_hint: {"center_x" : 0.5 , "y" : (root.height-2*self.height)/root.height}
            on_press: app.root.current = 'Progress'
            text: 'Progress'

        CustButton:
            pos_hint: {"center_x" : 0.5 , "y" : (root.height-3*self.height)/root.height}
            on_press: app.root.current = 'Materials'
            text: 'Materials'
        CustButton:
            pos_hint: {"center_x" : 0.5 , "y" : (root.height-4*self.height)/root.height}
            on_press: app.root.current = 'Blog'
            text: '(Blog)'


            
            
<Tricks>:

    name: 'Tricks'
    BoxLayout:
        orientation: "vertical"
        FloatLayout:
            size_hint: 1,2/8
            CustButton:
                size_hint: 1/4,1/2
                text: 'Home'
                pos_hint: {"x" :  0, "top" : 1}
                on_press: app.root.current = 'main'
            
            Label:
                pos_hint: {"center_x" :  0.5, "center_y" : 0.5}
                size_hint: 1, 1
                text: 'TRICKS'
                font_size: root.width*4/70

        CustButton:
            text: "Cascade"
            on_press: app.root.current = 'Cascade'
            size_hint: 1, 2/8
            pos_hint: {"right" :  1, "top" : 0}
        CustButton:
            size_hint: 1, 2/8
            pos_hint: {"right" :  1, "top" : 0}
            text: "Mills Mess"
            on_press: app.root.current = 'Cascade'
        CustButton:
            size_hint: 1, 2/8
            pos_hint: {"right" :  1, "top" : 0}
            text: "Cascade reverse"
            on_press: app.root.current = 'Cascade'
        CustButton:
            text: "Crane"
            on_press: app.root.current = 'Cascade'
            size_hint: 1, 2/8
            pos_hint: {"right" :  1, "top" : 0}
        CustButton:
            text: "Four Balls"
            on_press: app.root.current = 'Cascade'
            size_hint: 1, 2/8
            pos_hint: {"right" :  1, "top" : 0}
        
    

<Cascade>:
    name: 'Cascade'

    PageLayout:
        GridLayout:
            canvas:
                Color:
                    rgba: 216/255., 195/255., 88/255., 1
                Rectangle:
                    pos: self.pos
                    size: self.size
            cols: 1
            FloatLayout:
                size_hint: 1,2/8
                CustButton:
                    size_hint: 1/4, 1/2
                    text: 'Back Home'
                    pos_hint: {"x" :  0, "top" : 1}
                    on_press: app.root.current = 'main'
                
                CustLabel:
                    pos_hint: {"center_x" :  0.5, "center_y" : 0.5}
                    size_hint: 1, 1
                    text: '[b]1 BALL[/b]'
                    markup:True
            
            
            #Label:
            #    pos_hint: {'center_x':0.5, 'center_y':0.5}
            #    color: 0,1,0,1
            #    size: self.texture_size
            #    text_size: root.width, None
            #    text: 'Achte darauf den Ball immer gleich hoch zu werfen!'
        
            
            CustButton:

                text: "Open Simulation"
                on_press: root.open_popup()

                

        BoxLayout:
            orientation: 'vertical'
            #Window:
            #    clearcolor : (0.5,0,0.2,1)
            canvas:
                Color:
                    rgba: 109/255., 8/255., 57/255., 1
                Rectangle:
                    pos: self.pos
                    size: self.size
            FloatLayout:
                size_hint: 1,2/8
                CustButton:
                    size_hint: 1/4, 1/2
                    text: 'Back Home'
                    pos_hint: {"x" :  0, "top" : 1}
                    on_press: app.root.current = 'main'
                
                CustLabel:
                    pos_hint: {"center_x" :  0.5, "center_y" : 0.5}
                    size_hint: 1, 1
                    text: '[b]2 BALLS[/b]'
                    markup:True
            
            CustBox:
                ScrollableLabel:
                    Label:
                        size: self.size
                        pos_hint: {'x': 1/8 + 1/16, 'y':0.41}
                        text: "hey : did it work did  it work did it work"*100
                        multiline: True
                        #text_size: self.size*0.5
                        text_size: root.width, None
                        size_hint_y: None
                        height: self.texture_size[1]

            #AsyncImage:
            #    source: 'http://kivy.org/logos/kivy-logo-black-64.png'
        GridLayout:
            canvas:
                Color:
                    rgba: 0, 50/255, 100/255., 1
                Rectangle:
                    pos: self.pos
                    size: self.size
            cols: 1
            FloatLayout:
                size_hint: 1,2/8
                CustButton:
                    size_hint: 1/4, 1/2
                    text: 'Back Home'
                    pos_hint: {"x" :  0, "top" : 1}
                    on_press: app.root.current = 'main'
                
                CustLabel:
                    pos_hint: {"center_x" :  0.5, "center_y" : 0.5}
                    size_hint: 1, 1
                    text: '[b]3 BALLS[/b]'
                    markup:True
                    
            

            Label:
                text: 'Some very long line which will be cut'
                ellipsis_options: {'color':(1,0.5,0.5,1),'underline':True}
            
            
<Progress>:
    name: 'Progress'
    FloatLayout:
        CustButton:
            size_hint: 1/4,1/2
            text: 'Home'
            pos_hint: {"x" :  0, "top" : 1}
            on_press: app.root.current = 'main'
        


<Materials>:
    name: 'Materials'
    BoxLayout:
        orientation: "vertical"
        FloatLayout:
            size_hint: 1,2/8
            CustButton:
                size_hint: 1/4, 1/2
                text: 'Back Home'
                pos_hint: {"x" :  0, "top" : 1}
                on_press: app.root.current = 'main'
            
            Label:
                pos_hint: {"center_x" :  0.5, "center_y" : 0.5}
                size_hint: 1, 1
                text: '[b]Shop Suggestions[/b]'
                markup:True
                font_size: root.width*4/70
        CustButton:
            text: "Juggling Balls"
            size_hint: 1, 2/8
            pos_hint: {"right" :  1, "top" : 0}
            #on_press: app.root.current = 'CascOne'

        CustButton:
            text: "Juggling Clubs"
            size_hint: 1, 2/8
            pos_hint: {"right" :  1, "top" : 0}

        CustButton:
            text: "Unicycles"
            size_hint: 1, 2/8
            pos_hint: {"right" :  1, "top" : 0}



<Blog>:
    name: 'Blog'
    FloatLayout:
        CustButton:
            size_hint: 1/4,1/2
            text: 'Home'
            pos_hint: {"x" :  0, "top" : 1}
            on_press: app.root.current = 'main'        
        